<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link type="text/css" rel="stylesheet" href="title.css">

    <title>Lyricist | Lyric Generation</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="{{ url_for('static',filename='lyricgen.css') }}">

</head>

<body>
    <header id="header">
        <nav class="links" style="--items: 10;">
            <a href = '#'>Pop</a>
            <a href = '#'>Hip-Hop</a>
            <a href = '#'>Rock</a>
            <a href = '#'>Metal</a>
            <a href = '#'>Country</a>
            <a href = '#'>Jazz</a>
            <a href = '#'>Electronic</a>
            <a href = '#'>Folk</a>
            <a href = '#'>R&B</a>
            <a href = '#'>Indie</a>
    
            <span class="line"></span>
        </nav>
    </header>
    
    <button class="genButton">Generate Lyrics</button>
    <h5 id="result" style="margin-right:20px; margin-top:300px;float:left;"><span></span></h5>
</body>

<script type="text/javascript">
    var lyricboard = document.getElementById('LyricBoardID')
    function printLyricText(){  

        // var lyrictext = '{{ loadmodel }}'
        // lyricboard.innerHTML = lyrictext;
        return '{{ loadmodel }}'

    }

    var genreselected = "Pop"
    $(".links").click(function(event){

        console.log('{{ request.script_root|tojson|safe }}');
        window.genreselected = event.target.textContent;    
                
	});
    
    $(".genButton").click(function(event){
        console.log(genreselected);
        // var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
        var $SCRIPT_ROOT = '{{ request.script_root|tojson|safe }}';
            
        $.ajax({
            
            type: "POST",
            url: "http://localhost:8080" + "/loadmodel/",
            data: genreselected,
            success: function(data){
                
                $('#result').text('Output: ' + data);
                
            }
            
        });

    });

</script>
</html>