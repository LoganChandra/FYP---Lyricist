<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.bundle.min.js" integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm" crossorigin="anonymous"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    
    <script>
      window.jQuery || document.write('<script src="/docs/4.4/assets/js/vendor/jquery.slim.min.js"><\/script>')</script>
    <style>

      /* Chart.js */
      @-webkit-keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}@keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}
    </style>

    <link rel="stylesheet" href="{{ url_for('static',filename='explore.css') }}">
 
    <title>Lyricist</title>
</head>

<body>
  <div class="container">
    <nav class="navbar navbar-light fixed-top" style="background-color: lightgray;">
    <a style="text-decoration: none; color:black !important; font-size: 25px; font-family: Arial, Helvetica, sans-serif;" class="masthead-brand" href="/main">Lyricist</a>
    <form action="/explore" method='post' class="form-inline">
      <input class="form-control mr-sm-2" name="getsearch" type="search" href="/explore" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Go ></button>
    </form>
  </nav>
</div>
  
<nav class="col-md-2 d-none d-md-block sidebar" style="background-color: rgb(231, 231, 231);">
  <div class="sidebar-sticky">
    <h5 style="position: relative;">Similar artists</h5>
    <div id="SimArtistCard">
    <!-- <div class="card" style="display: inline-block;">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
      </div>
    </div> -->
  </div>
    <div class="card" style="display: inline-block;">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
      </div>
    </div>
  </div>
</nav>
      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2" id="dashID">{{ ga }}</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group mr-2">
              <a id="print" type="button" class="btn btn-sm btn-outline-secondary">5</a>
              <a id="print" type="button" class="btn btn-sm btn-outline-secondary">20</a>
              <a id="print" type="button" class="btn btn-sm btn-outline-secondary">50</a>
              <a id="print" type="button" class="btn btn-sm btn-outline-secondary">100</a>
            </div>
            <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
              This week
            </button>
          </div>
        </div>
  
        <canvas class="my-4 w-100 chartjs-render-monitor" id="ngramChartID" width="500" height="200" style="display: block; width: 592px; height: 249px;"></canvas>
        <canvas id="chart-0" style="display: block; width: 591px; height: 295px;" width="591" height="295" class="chartjs-render-monitor"></canvas>
      </main>
</body>
<script type="text/javascript">
  var ngram = document.getElementById("ngramChartID").getContext('2d');
  var dash = document.getElementById("dashID");

  function loaddata(vars){
    return vars
  }

  var ngramChart = new Chart(ngram, {
      type: 'line',
      data: {
          labels: loaddata({{data|tojson}}).labels,
          datasets: [{
              backgroundColor: 'rgb(255, 99, 132)',
              borderColor: 'rgb(255, 99, 132)',
              data: loaddata({{data|tojson}}).data
          }]
      },

      // Configuration options go here
      options: {}
    });
    var SimArtistCard = document.getElementById('SimArtistCard');
    var simartist_html = '';
    var json = loaddata({{simAD|tojson}});
    loaddata
    for(var i = 0;i < json.length;i++){
      simartist_html += '<div class="card" style="display: inline-block;">';
      simartist_html += '<img src="'+ json.simimgpath + '" class="card-img-top" alt="...">';
      simartist_html += '<div class="card-body">';
      simartist_html += '<h5 class="card-title">' + json.simname + '</h5>';
      simartist_html += '<p class="card-text">' + json.simgenre + '</p>';
      simartist_html += '</div>';
      simartist_html += '</div>';
    }
    SimArtistCard.innerHTML = simartist_html;
    
    var myRadarChart = new Chart(ctx, {
      type: 'radar',
      data: data,
      options: options
    });     
    // window.alert(String(result.labels) + '\n'+ String(result.data))
  

  $("#print").click(function(){
        
        $.ajax({
            
            type: "POST",
            url: "http://localhost:8080" + "/getG/",
            success: function(data){
                
              console.log(data);
                
            }
            
        });

    });
    if ( window.history.replaceState ) {
        window.history.replaceState( null, null, window.location.href );
    }
</script>
</html>

